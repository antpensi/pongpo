{"version":3,"sources":["webpack:///webpack/bootstrap 6b36053f7bd6657fd7cc","webpack:///./lib/pongpo.js","webpack:///./lib/game.js","webpack:///./lib/view.js","webpack:///./lib/board.js","webpack:///./lib/square.js"],"names":["$","rootEl","Game","board","$square","pos","data","playMove","e","isValidMove","console","log","handleMove","View","$el","game","setupBoard","bindEvents","on","event","currentTarget","makeMove","grid","$ul","addClass","i","length","j","append","render","Board","setupGrid","deltas","rowIdx","push","colIdx","getRandomIntInclusive","blank","testSquare","nextSolidSquare","delta","nextX","nextY","inBounds","target","currentSquare","findAdjacentSquare","newDX","newDY","min","max","Math","ceil","floor","random","Square","color","randomColor","orange","purple","dgreen","magenta","yellow","lblue","blue","lgreen","colors","randomKey","shuffle","Object","keys","$li","css","array","currentIndex","temporaryValue","randomIndex"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6b36053f7bd6657fd7cc\n **/","import Game from './game';\nimport View from './view';\n\n$( () => {\n  const rootEl = $('.pongpo');\n\tnew View(rootEl);\n});\n\n // 29\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/pongpo.js\n **/","export default class Game {\n\tconstructor(board) {\n\t\tthis.board = board;\n\t}\n\n\tmakeMove($square) {\n\t\tconst pos = $square.data(\"pos\");\n\n\t\ttry {\n\t\t\tthis.playMove(pos);\n\t\t} catch (e) {\n\t\t\t// NB: What should I do when player makes invalid move?\n\t\t\t// (i.e. clicks ON a square)\n\t\t\treturn;\n\t\t}\n\t}\n\n\tplayMove(pos) {\n\t\tif (this.board.isValidMove(pos)) {\n\t\t\tconsole.log(`move at ${pos}`);\n\t\t\tthis.board.handleMove(pos);\n\t \t} else {\n\t\t\tconsole.log(`invalid!`);\n\t\t}\n\t}\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/game.js\n **/","import Board from './board.js';\nimport Square from './square.js';\nimport Game from './game.js';\n\nexport default class View {\n\tconstructor($el) {\n\t\tthis.$el = $el;\n\t\tthis.board = new Board();\n\t\tthis.game = new Game(this.board);\n\n\t\tthis.setupBoard();\n\t\tthis.bindEvents();\n\t}\n\n\tbindEvents() {\n    // install a handler on the `li` elements inside the board.\n    this.$el.on(\"click\", \"li\", ( event => {\n      const $square = $(event.currentTarget);\n      this.game.makeMove($square);\n    }));\n  }\n\n\n\tsetupBoard() {\n\t\tconst grid = this.board.grid;\n    const $ul = $(\"<ul>\");\n    $ul.addClass(\"group\");\n\n\t\tfor (let i = 0; i < grid.length; i++) {\n\t\t\tfor (let j = 0; j < grid[i].length; j++) {\n\t\t\t\t$ul.append(grid[i][j].render());\n\t\t\t}\n\t\t}\n\n    // for (let rowIdx = 0; rowIdx < 8; rowIdx++) {\n    //   for (let colIdx = 0; colIdx < 11; colIdx++) {\n    //     let $square = new Square([rowIdx, colIdx]);\n\t\t//\n    //     $ul.append($square.render());\n    //   }\n    // }\n\n    this.$el.append($ul);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/view.js\n **/","import Square from './square';\n\nexport default class Board {\n\n\tconstructor() {\n\t\tthis.grid = this.setupGrid();\n\t\tthis.deltas = [\n\t\t\t[-1, 0],\n\t\t\t[0, -1],\n\t\t\t[1, 0],\n\t\t\t[0, 1]\n\t\t];\n\t}\n\n\tsetupGrid() {\n\t\tconst grid = [];\n\t\tlet $square;\n\n\t\tfor (let rowIdx = 0; rowIdx < 11; rowIdx++) {\n\t\t\tgrid.push([]);\n\t\t\tfor (let colIdx = 0; colIdx < 8; colIdx++) {\n\t\t\t\tif (getRandomIntInclusive(1,3) === 1) {\n\t\t\t\t\t$square = new Square([rowIdx, colIdx], true); //make a third of squares blank\n\t\t\t\t} else {\n\t\t\t\t\t$square = new Square([rowIdx, colIdx]);\n\t\t\t\t}\n\t\t\t\tgrid[rowIdx].push($square);\n\t\t\t}\n\t\t}\n\t\treturn grid;\n  }\n\n\tisValidMove(pos) {\n\t\tif (this.grid[pos[0]][pos[1]].blank) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\thandleMove(pos) {\n\t\tdebugger\n\t\tconst testSquare = this.nextSolidSquare(pos, this.deltas[0]);\n\t}\n\n\tinBounds(pos) {\n\t\tif ((pos[0] < 8 || pos[0] >= 0) || (pos[1] < 11 || pos[1] >= 0)) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfindAdjacentSquare(pos, delta) {\n\t\tconst nextX = delta[0] + pos[0];\n\t\tconst nextY = delta[1] + pos[1];\n\n\t\tif (inBounds([nextX, nextY])) {\n\t\t\tconst target = this.grid[nextX][nextY];\n\t\t\treturn target;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tnextSolidSquare(pos, delta) {\n\t\tlet currentSquare = findAdjacentSquare(pos, delta);\n\n\t\tif (!currentSquare) return null; // findAdjacentSquare returns null if pos+delta was out of bounds\n\n\t\t// look one square further in delta's direction until square is not blank\n\t\twhile (currentSquare.blank) {\n\t\t\tlet newDX = delta[0] + delta[0];\n\t\t\tlet newDY = delta[1] + delta[1];\n\t\t\tcurrentSquare = findAdjacentSquare(pos, [newDX, newDY]);\n\t\t}\n\n\t\treturn currentSquare;\n\t}\n\n\n}\n\nfunction getRandomIntInclusive(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/board.js\n **/","export default class Square {\n\tconstructor(pos, blank=false) {\n\t\tthis.blank = blank;\n\t\tthis.pos = pos;\n\n\t\tthis.color = this.randomColor();\n\t}\n\n\tcolors() {\n\t\treturn (\n\t\t\t{\n\t\t\t\torange: '(244, 100, 5)',\n\t\t\t\tpurple: '(152, 88, 174)',\n\t\t\t\tdgreen: '(48, 140, 63)',\n\t\t\t\tmagenta: '(238, 0, 106)',\n\t\t\t\tyellow: '(247, 176, 31)',\n\t\t\t\tlblue: '(118, 199, 220)',\n\t\t\t\tblue: '(59, 140, 205)',\n\t\t\t\tlgreen: '(134, 200, 80)'\n\t\t\t}\n\t\t);\n\t}\n\n\trandomColor() {\n\t\tif (this.blank) return '(226, 224, 225)'; // gray\n\n\t\tconst colors = this.colors();\n\t\tconst randomKey = shuffle(Object.keys(colors))[0];\n\t\treturn colors[randomKey];\n\t}\n\n\trender() {\n\t\tconst $li = $(\"<li>\");\n\t\t$li.css('background-color', `rgb${this.color}`);\n\t\t$li.data(\"pos\", this.pos);\n\t\treturn (\n\t\t\t$li\n\t\t);\n\t}\n}\n\nfunction shuffle(array) {\n  var currentIndex = array.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\n\n// Colors:\n// 244\t100\t5 orange\n// 152\t88\t174 purple\n// 48\t140\t63 dgreen\n// 238\t0\t106\tmagenta/red\n// 247\t176\t31\tyellow\n// 118\t199\t220\tlblue\n// 59\t140\t205\tblue\n// 134\t200\t80\tlgreen\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/square.js\n **/"],"sourceRoot":""}